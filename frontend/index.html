<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Scheduler</title>
    <link rel="stylesheet" href="/static/src/css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div>
                <h1>Agendador de Tarefas</h1>
                <p>Gerencie e agende suas tarefas automatizadas</p>
            </div>
            <button class="btn-primary" onclick="showNewTaskForm()">
                <i data-lucide="plus" class="icon"></i>
                Nova Tarefa
            </button>
        </div>

        <!-- Lista de Tarefas -->
        <div id="tasks-container" class="tasks-grid">
            <!-- Tarefas serão inseridas aqui via JavaScript -->
        </div>

        <!-- Estado Vazio -->
        <div id="empty-state" class="empty-state hidden">
            <i data-lucide="calendar" class="icon-large"></i>
            <h3>Nenhuma tarefa agendada</h3>
            <p>Comece criando sua primeira tarefa automatizada</p>
            <button class="btn-primary" onclick="showNewTaskForm()">
                Criar primeira tarefa
            </button>
        </div>

        <!-- Modal do Formulário -->
        <div id="task-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title" class="modal-title">Nova Tarefa</h2>
                </div>
                
                <form id="task-form" class="modal-form">
                    <div class="form-group">
                        <label class="form-label">Nome da Tarefa</label>
                        <input type="text" id="task-name" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tipo de Tarefa</label>
                        <select id="task-type" class="form-select" onchange="updateParametersForm()">
                            <option value="macro_excel">Macro do Excel</option>
                            <option value="enviar_email">Enviar Email</option>
                            <option value="script_python">Script Python</option>
                            <option value="comando_sistema">Comando do Sistema</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Data e Hora de Execução</label>
                        <input type="datetime-local" id="task-datetime" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Parâmetros da Tarefa</label>
                        <div id="parameters-container">
                            <!-- Parâmetros serão inseridos aqui via JavaScript -->
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="closeModal()">
                            Cancelar
                        </button>
                        <button type="submit" id="submit-btn" class="btn-primary">
                            Criar Tarefa
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
<script src="/static/src/js/main.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script> lucide.createIcons(); </script>

</body>
</html>